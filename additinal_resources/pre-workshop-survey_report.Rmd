---
title: "IGNITE Pre-Workshop Survey Analysis"
author: "Gracielle Higino"
date: "19 de junho de 2018"
output: html_document
---

```{r setup, include=FALSE, warning=FALSE, message=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#Load packages----
#https://gist.github.com/stevenworthington/3178163
ipak <- function(pkg){
    new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
    if (length(new.pkg)) 
        install.packages(new.pkg, dependencies = TRUE)
    sapply(pkg, require, character.only = TRUE)
}

packages <- c("googlesheets")
ipak(packages)
rm(packages,ipak)

```
# Welcome!  

It's great that you've decided to assess your community needs concerning science communication! This is the basic routine for you to analyse the answers to the pre-workshop survey. We are going to load the data directly from Google Sheets using the `googlesheets` package. You only need to go to your form edit mode, mark the option to stop recieving answers and click on the green icon that leads to the Google Spreadsheet with all the answers. Then you click on "share" and copy the link in the function below. In this tutorial, I'm using the data from the Survey that was used during the Global Sprint. Enjoy!
---
This is the code for loading the data:
```{r Loading Data, warning=FALSE, message=FALSE}
ans<-gs_read(gs_url("https://docs.google.com/spreadsheets/d/1lZ581hXijaIAKmv8DbuB5AweWFniMY3nqy1MyytmU3k/edit?usp=sharing"))
```
Now we have our data in the object `ans` and we can use basic functions to analyse frequencies.

### Who answered the survey?
How many answers did this survey get?
```{r echo=FALSE}
nrow(ans)
```


```{r echo=FALSE}
# Use these barplots to questions with options.
colnames.ans<-colnames(ans)
barplot(table(ans[,13]), ylab="Frequency", col="coral3", border = NA, main = "If you're in academia, what's your current position?", las=1, cex.names = 0.5)
```

### Have they ever done any SciComm?
```{r echo=FALSE}
barplot(table(ans[,3]), xlab="Answers", ylab="Frequency", col="coral3", border = NA, main = colnames.ans[3])

barplot(table(ans[,4]), ylab="Frequency", col="coral3", border = NA, main = colnames.ans[4], las=2)
```
Notice that in the barplot above, there are five answers that includes **"I don't know how to do it"**, three include **"I'm shy"** and two include **"I don't have the time"**. Those are the major concerns of people who has never done any SciComm. Therefore, we must focus on presenting tools and work on developed skills, boost self-confidence and present solutions to manage the time to do SciComm and research/teaching.
```{r echo=FALSE}
barplot(table(ans[,5]), ylab="Frequency", col="coral3", border = NA, main = colnames.ans[5])
```

When they explain their answers, the most common words are:

```{r}
library(tm)
library(SnowballC)
keywords.corpus<-Corpus(DataframeSource(ans[6]))
keywords.corpus<-tm_map(keywords.corpus, removePunctuation, preserve_intra_word_dashes = FALSE)
keywords.corpus<-tm_map(keywords.corpus, removeWords, stopwords("english"))
keywords.corpus<-tm_map(keywords.corpus, stemDocument)
keywords.matrix<-DocumentTermMatrix(keywords.corpus, control=list(weighting=weightTf))
count.keywords<-as.data.frame(inspect(keywords.matrix))
count.keywords<-colSums(count.keywords)
pal <- RColorBrewer::brewer.pal(9,"Greys")
pal <- pal[-(1:4)]
set.seed(123)
wordcloud::wordcloud(words = keywords.corpus, scale=c(5,0.1), max.words=50,min.freq=19, random.order=FALSE, 
          rot.per=0.35, use.r.layout=FALSE, colors=pal)
```


Have they ever received any training in Science Communication?
```{r echo=FALSE}
barplot(table(ans[,7]), ylab="Frequency", col="coral3", border = NA, main = colnames.ans[7])
```
